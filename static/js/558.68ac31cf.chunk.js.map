{"version":3,"file":"static/js/558.68ac31cf.chunk.js","mappings":"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","sources":["api/Movies-fetch.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","webpack://react-homework-template/./src/components/MoviesSearchList/MoviesSearchList.module.css?457d","components/MoviesSearchList/MoviesSearchList.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst MOVIES_API_KEY = '067705c909e37a633e5abed845a3422c';\n\nexport const getTrendingMovies = async () => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/trending/all/day?api_key=${MOVIES_API_KEY}`\n    );\n    const responseData = response.data.results;\n    return responseData;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const searchMoviesByQuery = async query => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${MOVIES_API_KEY}&query=${query}&language=en-US`\n    );\n    const responseData = response.data.results;\n    return responseData;\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n\nexport const getMoviesDetails = async id => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${MOVIES_API_KEY}&language=en-US`\n    );\n    const responseData = response.data;\n    return responseData;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMoviesCast = async id => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${MOVIES_API_KEY}&language=en-US`\n    );\n    const responseData = response.data.cast;\n    return responseData;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMoviesRevieews = async id => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${MOVIES_API_KEY}&page=1&language='en-US'`\n    );\n    const responseData = response.data.results;\n    return responseData;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"Movies_formContainer__f2YGl\",\"form\":\"Movies_form__4ow+Z\",\"formButton\":\"Movies_formButton__DQX-Z\",\"formButtonLabel\":\"Movies_formButtonLabel__AWH2Q\",\"formInput\":\"Movies_formInput__zmXM8\"};","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearchListCatalog\":\"MoviesSearchList_moviesSearchListCatalog__8jSB9\",\"moviesSearchListItem\":\"MoviesSearchList_moviesSearchListItem__hg+GY\",\"moviesSearchListTitle\":\"MoviesSearchList_moviesSearchListTitle__u1QOl\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport style from './MoviesSearchList.module.css';\n\nconst SearchMoviesPage = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <div className={style.moviesSearchListWrapper}>\n      <ul className={style.moviesSearchListCatalog}>\n        {movies?.map(({ id, title }) => (\n          <li key={id} className={style.moviesSearchListItem}>\n            <Link to={`/movies/${id}`} state={location}>\n              <h4 className={style.moviesSearchListTitle}>{title}</h4>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nSearchMoviesPage.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default SearchMoviesPage;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { ImSearch } from 'react-icons/im';\nimport style from './Movies.module.css';\nimport { searchMoviesByQuery } from '../../api/Movies-fetch';\nimport { toast } from 'react-toastify';\nimport SearchMoviesPage from 'components/MoviesSearchList/MoviesSearchList';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const searchMovy = searchParams.get('query') ?? '';\n  const [searchQuery, setSearchQuery] = useState(searchMovy);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (searchQuery === '') {\n      return toast.error('Please enter image title!', {\n        position: 'top-center',\n        autoClose: 3000,\n        theme: 'colored',\n      });\n    }\n    setSearchParams({ query: searchQuery });\n    setSearchQuery('');\n  };\n\n  useEffect(() => {\n    if (!searchMovy) {\n      return;\n    }\n\n    searchMoviesByQuery(searchMovy).then(setMovies);\n  }, [searchMovy, setMovies]);\n\n  return (\n    <div className={style.formContainer}>\n      <form className={style.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={style.formButton}>\n          <ImSearch style={{ marginRight: 8 }} />\n          <span className={style.formButtonLabel}></span>\n        </button>\n        <input\n          className={style.formInput}\n          placeholder=\"Search\"\n          onChange={event => setSearchQuery(event.target.value)}\n          value={searchQuery}\n        />\n      </form>\n\n      <main>\n        <SearchMoviesPage movies={movies} />\n      </main>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["MOVIES_API_KEY","getTrendingMovies","axios","response","responseData","data","results","console","log","searchMoviesByQuery","query","toast","message","getMoviesDetails","id","getMoviesCast","cast","getMoviesRevieews","movies","location","useLocation","className","style","map","title","to","state","useSearchParams","searchParams","setSearchParams","useState","setMovies","searchMovy","get","searchQuery","setSearchQuery","useEffect","then","onSubmit","e","preventDefault","position","autoClose","theme","type","marginRight","placeholder","onChange","event","target","value"],"sourceRoot":""}